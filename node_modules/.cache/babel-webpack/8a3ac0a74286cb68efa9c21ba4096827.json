{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/romerosp/source/repos/Angular/CRUD_Firebase_invitados/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { map, startWith } from 'rxjs/operators';\nimport { Grupos } from 'src/assets/grupos';\nlet HomeComponent = class HomeComponent {\n  constructor(dataService, router) {\n    this.dataService = dataService;\n    this.router = router;\n    this.myControl = new FormControl();\n    this.options = [];\n    this.numInvitados = 0;\n    this.numInvitadosHombre = 0;\n    this.numInvitadosMujer = 0;\n    this.numInvitadosEnviado = 0;\n    this.numInvitadosConfirmado = 0;\n    this.navExtras = {\n      state: {\n        persona: null\n      }\n    };\n    this.grupos = Grupos;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.getInvitados();\n    })();\n  }\n\n  getInvitados() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.dataService.invitados.subscribe(invitados => {\n        _this2.invitados = invitados;\n        _this2.numInvitados = invitados.length;\n        _this2.numInvitadosHombre = invitados.filter(x => x.sexo == \"Hombre\").length;\n        _this2.numInvitadosMujer = invitados.filter(x => x.sexo == \"Mujer\").length;\n        _this2.numInvitadosEnviado = invitados.filter(x => x.invitado == true).length;\n        _this2.numInvitadosConfirmado = invitados.filter(x => x.confirmado == true).length;\n        _this2.options = invitados;\n        _this2.filteredOptions = _this2.myControl.valueChanges.pipe(startWith(''), map(value => _this2._filter(value)));\n      });\n    })();\n  }\n\n  goToNew() {\n    this.router.navigate(['new']);\n  }\n\n  goToEdit(persona) {\n    if (this.navExtras.state) this.navExtras.state = persona;\n    this.router.navigate(['edit'], this.navExtras);\n  }\n\n  onDelete(id) {\n    this.dataService.deleteInvitado(id);\n  }\n\n  _filter(value) {\n    const filterValue = value.toLowerCase();\n    return this.invitados.filter(option => option.nombre.toLowerCase().includes(filterValue));\n  }\n\n  filterInvitados(e) {\n    console.log(e);\n    this.invitados = this.invitados.filter(x => x.id === e);\n  }\n\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"sources":["C:/Users/romerosp/source/repos/Angular/CRUD_Firebase_invitados/src/app/pages/home/home.component.ts"],"names":["__decorate","Component","FormControl","map","startWith","Grupos","HomeComponent","constructor","dataService","router","myControl","options","numInvitados","numInvitadosHombre","numInvitadosMujer","numInvitadosEnviado","numInvitadosConfirmado","navExtras","state","persona","grupos","ngOnInit","getInvitados","invitados","subscribe","length","filter","x","sexo","invitado","confirmado","filteredOptions","valueChanges","pipe","value","_filter","goToNew","navigate","goToEdit","onDelete","id","deleteInvitado","filterValue","toLowerCase","option","nombre","includes","filterInvitados","e","console","log","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { Grupos } from 'src/assets/grupos';\r\nlet HomeComponent = class HomeComponent {\r\n    constructor(dataService, router) {\r\n        this.dataService = dataService;\r\n        this.router = router;\r\n        this.myControl = new FormControl();\r\n        this.options = [];\r\n        this.numInvitados = 0;\r\n        this.numInvitadosHombre = 0;\r\n        this.numInvitadosMujer = 0;\r\n        this.numInvitadosEnviado = 0;\r\n        this.numInvitadosConfirmado = 0;\r\n        this.navExtras = {\r\n            state: {\r\n                persona: null\r\n            }\r\n        };\r\n        this.grupos = Grupos;\r\n    }\r\n    async ngOnInit() {\r\n        await this.getInvitados();\r\n    }\r\n    async getInvitados() {\r\n        await this.dataService.invitados.subscribe((invitados) => {\r\n            this.invitados = invitados;\r\n            this.numInvitados = invitados.length;\r\n            this.numInvitadosHombre = invitados.filter(x => x.sexo == \"Hombre\").length;\r\n            this.numInvitadosMujer = invitados.filter(x => x.sexo == \"Mujer\").length;\r\n            this.numInvitadosEnviado = invitados.filter(x => x.invitado == true).length;\r\n            this.numInvitadosConfirmado = invitados.filter(x => x.confirmado == true).length;\r\n            this.options = invitados;\r\n            this.filteredOptions = this.myControl.valueChanges.pipe(startWith(''), map(value => this._filter(value)));\r\n        });\r\n    }\r\n    goToNew() {\r\n        this.router.navigate(['new']);\r\n    }\r\n    goToEdit(persona) {\r\n        if (this.navExtras.state)\r\n            this.navExtras.state = persona;\r\n        this.router.navigate(['edit'], this.navExtras);\r\n    }\r\n    onDelete(id) {\r\n        this.dataService.deleteInvitado(id);\r\n    }\r\n    _filter(value) {\r\n        const filterValue = value.toLowerCase();\r\n        return this.invitados.filter(option => option.nombre.toLowerCase().includes(filterValue));\r\n    }\r\n    filterInvitados(e) {\r\n        console.log(e);\r\n        this.invitados = this.invitados.filter(x => x.id === e);\r\n    }\r\n};\r\nHomeComponent = __decorate([\r\n    Component({\r\n        selector: 'app-home',\r\n        templateUrl: './home.component.html',\r\n        styleUrls: ['./home.component.scss']\r\n    })\r\n], HomeComponent);\r\nexport { HomeComponent };\r\n"]},"metadata":{},"sourceType":"module"}